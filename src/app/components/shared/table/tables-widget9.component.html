<!-- begin::Header -->

<div class="card-header border-0 pt-5">
  <div class="d-flex flex-nowrap align-items-center gap-5 w-100">
    <form class="w-100 position-relative" autoComplete="off">
      <app-keenicon
        name="magnifier"
        class="fs-2 position-absolute top-50 start-0 ms-5 translate-middle-y"
      ></app-keenicon>
      <input
        type="text"
        class="form-control form-control-solid pe-5"
        name="search"
        placeholder="ابحث بأستخدام اسم الخبر..."
      />
    </form>
    <div class="card-toolbar">
      <!-- begin::Menu -->
      <button
        type="button"
        class="btn btn-sm btn-icon btn-color-primary btn-active-light-primary"
        data-kt-menu-trigger="click"
        data-kt-menu-placement="bottom-end"
        data-kt-menu-flip="top-end"
      >
        <app-keenicon name="category" class="fs-2"></app-keenicon>
      </button>
      <app-dropdown-menu1
        [isCategories]="isCategories"
        [isRolesPassList]="isRolesPassList"
        [isSubCategories]="isSubCategories"
        [isNewsStatusCount]="isNewsStatusCount"
      ></app-dropdown-menu1>
      <!-- end::Menu -->
    </div>
  </div>
</div>
<!-- end::Header -->
<!-- begin::Body -->
<div class="card-body py-3">
  <!-- begin::Table container -->
  <div class="table-responsive">
    <!-- begin::Table -->
    <table
      class="table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4"
    >
      <!-- begin::Table head -->
      <thead>
        <tr class="fw-bolder text-muted">
          <th class="w-25px">
            <div
              class="form-check form-check-sm form-check-custom form-check-solid"
            >
              <input
                class="form-check-input"
                type="checkbox"
                value="1"
                data-kt-check="true"
                data-kt-check-target=".widget-9-check"
              />
            </div>
          </th>
          <th class="min-w-150px">العنوان</th>
          <!-- <th class="min-w-140px">باب</th> -->
          <th class="min-w-120px">الوقت</th>
          <th class="min-w-100px text-end pe-2">التاريخ</th>
        </tr>
      </thead>
      <!-- end::Table head -->
      <!-- begin::Table body -->
      <tbody>
        @if(news&&news.length){ @for(item of news; track item; let idx = $index;
        let count = $count){
        <tr>
          <td>
            <div
              class="form-check form-check-sm form-check-custom form-check-solid"
            >
              <input
                class="form-check-input widget-9-check"
                type="checkbox"
                value="{{ item.id }}"
                (click)="onSelect($event)"
              />
            </div>
          </td>
          <td>
            <div class="d-flex align-items-center">
              <!-- <div class="symbol symbol-45px me-5">
                      <img src="./assets/media/avatars/300-14.jpg" alt="" />
                    </div> -->
              <div class="d-flex justify-content-start flex-column">
                <a
                  href="#"
                  class="text-gray-900 fw-bolder text-hover-primary fs-6"
                >
                  {{ item.title }}
                </a>
                <span class="text-muted fw-bold text-muted d-block fs-7">
                  {{ item.category }}
                </span>
              </div>
            </div>
          </td>
          <td>
            <span href="#" class="text-gray-900 fw-bolder d-block fs-7">
              {{ convertToArabicTime(item.time) }}
            </span>
            <!-- <span class="text-muted fw-bold text-muted d-block fs-7">
                    Web, UI/UX Design
                  </span> -->
          </td>
          <td class="text-end">
            <div class="d-flex flex-column w-100">
              <div class="d-flex flex-stack">
                <span class="text-gray-900 fs-7 fw-bolder">{{
                  convertToFullDate(item.date)
                }}</span>
              </div>
              <!-- <div class="progress h-6px w-100">
                      <div
                        class="progress-bar bg-primary"
                        role="progressbar"
                        [style.width]="'50%'"
                      ></div>
                    </div> -->
            </div>
          </td>
          <td>
            <div class="d-flex justify-content-end flex-shrink-0">
              <!-- <a
                      href="#"
                      class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                    >
                      <app-keenicon name="switch" class="fs-3"></app-keenicon>
                    </a>
                    <a
                      href="#"
                      class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                    >
                      <app-keenicon name="pencil" class="fs-3"></app-keenicon>
                    </a> -->
              <button
                (click)="publish()"
                class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm mx-1"
              >
                <app-keenicon
                  name="file-added"
                  title="نشر"
                  class="fs-3"
                ></app-keenicon>
              </button>
              <button
                (click)="restore()"
                class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm mx-1"
              >
                <app-keenicon
                  name="arrow-zigzag"
                  title="اعادة"
                  class="fs-3"
                ></app-keenicon>
              </button>
              <button
                (click)="deleteNew(item.id)"
                class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm mx-1"
              >
                <app-keenicon
                  name="trash"
                  title="حذف"
                  class="fs-3"
                ></app-keenicon>
              </button>
            </div>
          </td>
        </tr>
        }
        <!-- <tr>
            <td>
              <div
                class="form-check form-check-sm form-check-custom form-check-solid"
              >
                <input
                  class="form-check-input widget-9-check"
                  type="checkbox"
                  value="1"
                />
              </div>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <div class="symbol symbol-45px me-5">
                  <img src="./assets/media/avatars/300-2.jpg" alt="" />
                </div>
                <div class="d-flex justify-content-start flex-column">
                  <a
                    href="#"
                    class="text-gray-900 fw-bolder text-hover-primary fs-6"
                  >
                    Jessie Clarcson
                  </a>
                  <span class="text-muted fw-bold text-muted d-block fs-7">
                    C#, ASP.NET, MS SQL
                  </span>
                </div>
              </div>
            </td>
            <td>
              <a
                href="#"
                class="text-gray-900 fw-bolder text-hover-primary d-block fs-6"
              >
                Agoda
              </a>
              <span class="text-muted fw-bold text-muted d-block fs-7">
                Houses &amp; Hotels
              </span>
            </td>
            <td class="text-end">
              <div class="d-flex flex-column w-100 me-2">
                <div class="d-flex flex-stack mb-2">
                  <span class="text-muted me-2 fs-7 fw-bold">70%</span>
                </div>
                <div class="progress h-6px w-100">
                  <div
                    class="progress-bar bg-danger"
                    role="progressbar"
                    [style.width]="'70%'"
                  ></div>
                </div>
              </div>
            </td>
            <td>
              <div class="d-flex justify-content-end flex-shrink-0">
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                >
                  <app-keenicon name="switch" class="fs-3"></app-keenicon>
                </a>
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                >
                  <app-keenicon name="pencil" class="fs-3"></app-keenicon>
                </a>
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm"
                >
                  <app-keenicon name="trash" class="fs-3"></app-keenicon>
                </a>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div
                class="form-check form-check-sm form-check-custom form-check-solid"
              >
                <input
                  class="form-check-input widget-9-check"
                  type="checkbox"
                  value="1"
                />
              </div>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <div class="symbol symbol-45px me-5">
                  <img src="./assets/media/avatars/300-5.jpg" alt="" />
                </div>
                <div class="d-flex justify-content-start flex-column">
                  <a
                    href="#"
                    class="text-gray-900 fw-bolder text-hover-primary fs-6"
                  >
                    Lebron Wayde
                  </a>
                  <span class="text-muted fw-bold text-muted d-block fs-7">
                    PHP, Laravel, VueJS
                  </span>
                </div>
              </div>
            </td>
            <td>
              <a
                href="#"
                class="text-gray-900 fw-bolder text-hover-primary d-block fs-6"
              >
                RoadGee
              </a>
              <span class="text-muted fw-bold text-muted d-block fs-7"
                >Transportation</span
              >
            </td>
            <td class="text-end">
              <div class="d-flex flex-column w-100 me-2">
                <div class="d-flex flex-stack mb-2">
                  <span class="text-muted me-2 fs-7 fw-bold">60%</span>
                </div>
                <div class="progress h-6px w-100">
                  <div
                    class="progress-bar bg-success"
                    role="progressbar"
                    [style.width]="'60%'"
                  ></div>
                </div>
              </div>
            </td>
            <td>
              <div class="d-flex justify-content-end flex-shrink-0">
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                >
                  <app-keenicon name="switch" class="fs-3"></app-keenicon>
                </a>
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                >
                  <app-keenicon name="pencil" class="fs-3"></app-keenicon>
                </a>
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm"
                >
                  <app-keenicon name="trash" class="fs-3"></app-keenicon>
                </a>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div
                class="form-check form-check-sm form-check-custom form-check-solid"
              >
                <input
                  class="form-check-input widget-9-check"
                  type="checkbox"
                  value="1"
                />
              </div>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <div class="symbol symbol-45px me-5">
                  <img src="./assets/media/avatars/300-20.jpg" alt="" />
                </div>
                <div class="d-flex justify-content-start flex-column">
                  <a
                    href="#"
                    class="text-gray-900 fw-bolder text-hover-primary fs-6"
                  >
                    Natali Goodwin
                  </a>
                  <span class="text-muted fw-bold text-muted d-block fs-7">
                    Python, PostgreSQL, ReactJS
                  </span>
                </div>
              </div>
            </td>
            <td>
              <a
                href="#"
                class="text-gray-900 fw-bolder text-hover-primary d-block fs-6"
              >
                The Hill
              </a>
              <span class="text-muted fw-bold text-muted d-block fs-7"
                >Insurance</span
              >
            </td>
            <td class="text-end">
              <div class="d-flex flex-column w-100 me-2">
                <div class="d-flex flex-stack mb-2">
                  <span class="text-muted me-2 fs-7 fw-bold">50%</span>
                </div>
                <div class="progress h-6px w-100">
                  <div
                    class="progress-bar bg-warning"
                    role="progressbar"
                    [style.width]="'50%'"
                  ></div>
                </div>
              </div>
            </td>
            <td>
              <div class="d-flex justify-content-end flex-shrink-0">
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                >
                  <app-keenicon name="switch" class="fs-3"></app-keenicon>
                </a>
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                >
                  <app-keenicon name="pencil" class="fs-3"></app-keenicon>
                </a>
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm"
                >
                  <app-keenicon name="trash" class="fs-3"></app-keenicon>
                </a>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div
                class="form-check form-check-sm form-check-custom form-check-solid"
              >
                <input
                  class="form-check-input widget-9-check"
                  type="checkbox"
                  value="1"
                />
              </div>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <div class="symbol symbol-45px me-5">
                  <img src="./assets/media/avatars/300-23.jpg" alt="" />
                </div>
                <div class="d-flex justify-content-start flex-column">
                  <a
                    href="#"
                    class="text-gray-900 fw-bolder text-hover-primary fs-6"
                  >
                    Kevin Leonard
                  </a>
                  <span class="text-muted fw-bold text-muted d-block fs-7">
                    HTML, JS, ReactJS
                  </span>
                </div>
              </div>
            </td>
            <td>
              <a
                href="#"
                class="text-gray-900 fw-bolder text-hover-primary d-block fs-6"
              >
                RoadGee
              </a>
              <span class="text-muted fw-bold text-muted d-block fs-7"
                >Art Director</span
              >
            </td>
            <td class="text-end">
              <div class="d-flex flex-column w-100 me-2">
                <div class="d-flex flex-stack mb-2">
                  <span class="text-muted me-2 fs-7 fw-bold">90%</span>
                </div>
                <div class="progress h-6px w-100">
                  <div
                    class="progress-bar bg-info"
                    role="progressbar"
                    [style.width]="'90%'"
                  ></div>
                </div>
              </div>
            </td>
            <td>
              <div class="d-flex justify-content-end flex-shrink-0">
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                >
                  <app-keenicon name="switch" class="fs-3"></app-keenicon>
                </a>
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1"
                >
                  <app-keenicon name="pencil" class="fs-3"></app-keenicon>
                </a>
                <a
                  href="#"
                  class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm"
                >
                  <app-keenicon name="trash" class="fs-3"></app-keenicon>
                </a>
              </div>
            </td>
          </tr> -->
        }@else {
        <tr>
          <td colspan="4" class="text-center text-gray-900 fw-bolder fs-6">
            لا يوجد بيانات
          </td>
        </tr>
        }
      </tbody>

      <!-- end::Table body -->
    </table>
    @if(news){
    <div class="d-flex flex-stack flex-wrap pt-10">
      <div class="fs-6 fw-bold text-gray-700">
        صفحة 1 من صفحة 1 من {{ news.length }} اخبار
      </div>

      <ul class="pagination">
        <li (click)="onPageChange($event)" class="page-item next">
          <a class="page-link cursor-pointer">
            <i class="next"></i>
          </a>
        </li>
        <!-- [TODO]: for loop to display available pages -->
        <li (click)="onPageChange($event)" class="page-item active">
          <a class="page-link cursor-pointer"> 1 </a>
        </li>

        <!-- <li class="page-item">
            <a class="page-link cursor-pointer"> 2 </a>
          </li>
  
          <li class="page-item">
            <a class="page-link cursor-pointer"> 3 </a>
          </li>
  
          <li class="page-item">
            <a class="page-link cursor-pointer"> 4 </a>
          </li>
  
          <li class="page-item">
            <a class="page-link cursor-pointer"> 5 </a>
          </li>
  
          <li class="page-item">
            <a class="page-link cursor-pointer"> 6 </a>
          </li>-->
        <li (click)="onPageChange($event)" class="page-item previous">
          <a class="page-link cursor-pointer">
            <i class="previous"></i>
          </a>
        </li>
      </ul>
    </div>
    }
    <!-- end::Table -->
  </div>
  <!-- end::Table container -->
</div>
<!-- begin::Body -->
